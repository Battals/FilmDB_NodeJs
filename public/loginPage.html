<html>
<head>
  <title>Login</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>

<body>
  <header>
    <a href="frontPage.html">
      <h1>KinoNu.dk</h1>
    </a>
    <nav>
      <a href="loginPage.html">Login</a>
      <a href="registerPage.html">Opret bruger</a>
      <a href="frontPage.html">Film i biograffen</a>
      <a href="#">Kommende film</a>
    </nav>
  </header>
  <div class="loginContainer">
    <div class="glass-frame">
      <h1 style="font-size: smaller; text-align: inherit; color: #666; margin: revert;">Log ind p√• KinoNu</h1>
      <form id="loginForm" action="/login" method="POST">
        <input type="text" placeholder="Brugernavn" name="username" required>
        <input type="password" placeholder="Kode" name="password" required>
        <button type="submit">Login</button>
      </form>
    </div>
  </div>

  <script>
   document.querySelector('form').addEventListener('submit', async (event) => {
  event.preventDefault();

  const formData = new FormData(event.target);
  
  try {
    const response = await fetch('/login', {
      method: 'POST',
      body: formData,
    });

    if (!response.ok) {
      const errorData = await response.json();
      toastr.error("Ugyldig brugernavn eller adgangskode")
    } else {
      // Handle successful login
    }
  } catch (error) {
    // Handle network errors or other exceptions
  }
});
  </script>
</body>

</html>
